# Tail ì„ ì¶”ê°€í•œ ë‹¨ë°©í–¥ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸

> Head ë§Œ ì¡´ì¬í–ˆë˜ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì—ì„œ
> Tail ì„ ì¶”ê°€í•´ì„œ ì–‘ë°©í–¥ì˜ ì¶”ê°€, ì‚­ì œê°€ ë˜ë„ë¡ ë§Œë“¤ì–´ ë³¸ë‹¤.

<br/>
<br/>

Node í´ë˜ìŠ¤ ì •ì˜ ë¶€ë¶„ì´ë‹¤. ì œë„¤ë¦­ íƒ€ì… ë‹¤ì–‘í•œ íƒ€ì…ì„ ë„£ì„ ìˆ˜ ìˆë„ë¡ í–ˆë‹¤:

```swift
class Node<T> {
    var data: T?
    var next: Node<T>?

    init(_ data: T, _ node: Node<T>? = nil) {
        self.data = data
        self.next = node
    }

    deinit {
        // ì†Œë©¸ì. ì—¬ê¸°ì„œ ì°¸ì¡°ê°€ ëŠì–´ì¡ŒëŠ”ì§€ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤
    }
}
```

ìœ„ì˜ Nodeë¥¼ ì‚¬ìš©í•  êµ¬ì¡°ì²´ë¥¼ ì •ì˜í•œë‹¤.

`head`, `tail` ê·¸ë¦¬ê³  ë¦¬ìŠ¤íŠ¸ì˜ ì‚¬ì´ì¦ˆë¥¼ í¸í•˜ê²Œ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ `size` ë³€ìˆ˜ë¥¼ ì¶”ê°€í–ˆë‹¤.

```swift
struct LinkedList<T> {
    private var head: Node<T>?
    private var tail: Node<T>?
    private(set) var size = 0
...
```

<br/>

## 1-1. head ì— ìš”ì†Œ ì¶”ê°€

head ë§Œ ì²˜ë¦¬í• ë•Œì™€ ë¹„êµí•´ì„œ ì²˜ë¦¬í•´ ì¤˜ì•¼í•  ë¶„ê¸°ê°€ ëŠ˜ì–´ë‚¬ë‹¤:

```swift
mutating func addFirst(_ element: T) {
    let newNode = Node(element)
    size += 1

    if head == nil && tail == nil { // ìƒˆë¡œ ë§Œë“œëŠ” ê²½ìš°(í˜„ì¬ ë…¸ë“œê°¯ìˆ˜ 0)
        head = newNode
        tail = newNode
        return
    }

    // ë…¸ë“œê°€ 1ê°œì¸ ìƒí™©: head, tail ì´ ê°™ì€ ë…¸ë“œë¥¼ ê°€ë¥´í‚¨ë‹¤
    if head === tail { // ì°¸ì¡°ê°’ì´ ê°™ì€ì§€ í™•ì¸
        newNode.next = tail
        head = newNode
        return
    }

    // nodeê°€ 2ê°œ ì´ìƒ
    newNode.next = head
    head = newNode
}
```

<br/>

## 1-2. head ì—ì„œ ì‚­ì œ

```swift
mutating func deleteFirst() {
	if head == nil && tail == nil {
	    return
	}

	size -= 1

	// ê°™ì€ ì°¸ì¡°ì¸ ê²½ìš°, ë…¸ë“œê°€ 1ê°œë‹¤
	if (head === tail) {
	    head = nil
	    tail = nil
	    return
	}

	// node 2ê°œ ì¼ë•Œ
	if head?.next === tail {
	    head?.next = nil
	    head = tail
	    return
	}

	// 3ê°œ ì´ìƒ
	var temp = head
	head = temp?.next
	temp = nil
}
```

<br/>

## **ğŸ•° ì‹œê°„ ë³µì¡ë„**

- ë¦¬ìŠ¤íŠ¸ ì•ì—ì„œì˜ ìš”ì†Œ ì¶”ê°€, ì‚­ì œ: $O(1)$
- ë¦¬ìŠ¤íŠ¸ ëì—ì„œì˜ ìš”ì†Œ ì¶”ê°€, ì‚­ì œ: $O(1)$
- ë¦¬ìŠ¤íŠ¸ ì¤‘ê°„ì—ì„œì˜ ìš”ì†Œ ì¶”ê°€, ì‚­ì œ: $O(1)$ ì´ ì§€ë§Œ, íŠ¹ì • Node ë¥¼ íƒìƒ‰í•˜ê¸° ìœ„í•´ì„œëŠ” ìˆœì°¨ì ìœ¼ë¡œ ì ‘ê·¼ í•´ì•¼ í•˜ë¯€ë¡œ ìµœì¢…ì ìœ¼ë¡œëŠ” $O(n)$

<br/>

## â°Â  ì„±ëŠ¥ í…ŒìŠ¤íŠ¸: ì‹œê°„ ì¸¡ì •

**Array** ì™€ **Linked List** ì˜ ì•ì—ì„œ ìš”ì†Œì˜ ì¶”ê°€, ì‚­ì œì‹œ ìˆ˜í–‰ ì‹œê°„ì„ ì¸¡ì •í•´ ë³´ì•˜ë‹¤.

`measure` ë©”ì„œë“œì˜ í´ë¡œì € ì•ˆì— ì¸¡ì •í•˜ê³ ì í•˜ëŠ” ì½”ë“œë¥¼ ë„£ìœ¼ë©´ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•˜ë‹¤. 10ë²ˆ ì‹¤í–‰í•˜ì—¬ í‰ê·  ìˆ˜í–‰ì‹œê°„ê³¼ ì‹¤í–‰í•˜ëŠ” í‘œì¤€ í¸ì°¨ë¥¼ ìˆ˜ì§‘í•œë‹¤ê³  í•œë‹¤. ì¸¡ì •ê°’ì˜ í‰ê· ì€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì— ëŒ€í•œ ê°’ì„ í˜•ì„±í•œ ë‹¤ìŒ ê¸°ì¤€ì„ (base line) ê³¼ ë¹„êµí•´ ì„±ê³µê³¼ ì‹¤íŒ¨ë¥¼ í‰ê°€í•  ìˆ˜ ìˆë‹¤.

ê¸°ì¤€ì„ (base line) ì€ í…ŒìŠ¤íŠ¸ì˜ í•©ê²©ê³¼ ë¶ˆí•©ê²© í‰ê°€ë¥¼ í•˜ê¸°ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê°’ì´ë‹¤. ì´ ê°’ì€ ì‚¬ìš©ìê°€ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

```swift
func testArrayAddFirst() {
    var array = [Int]()
    measure {
        for i in 0...1000 {
            array.insert(i, at: 0)
        }
    }
}

func testLinkedListAddFirst() {
    var list = LinkedList<Int>()
    measure {
        for i in 0...1000 {
            list.addFirst(i)
        }
    }
}
```

ë°°ì—´ì¼ë•Œ ì¸¡ì •í•œ ê²°ê³¼ê°’ì´ë‹¤.

í‰ê·  `4.295` ê·¸ë¦¬ê³  `values` ì— 10ë²ˆ ì‹¤í–‰ëœ ê°ê°ì˜ ìˆ˜í–‰ì‹œê°„ì´ ë°°ì—´ê°’ìœ¼ë¡œ ë‚˜íƒ€ë‚œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤:

```swift
testArrayAddFirst]' measured [Time, seconds]
average: 4.295, relative standard deviation: 49.296%,
values: [0.982662, 1.694601, 2.357336, 3.333752, 3.854786, 4.823659, 5.694039, 7.777042, 6.707048, 5.721547]
```

ë‹¤ìŒìœ¼ë¡œ ì§ì ‘ ë§Œë“  ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¡œ ì¸¡ì •í•œ ê°’ì´ë‹¤.

í‰ê·  `1.602` ìœ¼ë¡œ ë°°ì—´ê³¼ ë¹„êµí–ˆì„ë•Œ ì ˆë°˜ ì´ìƒ ì‹œê°„ì„ ë‹¨ì¶•í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.

```swift
testLinkedListAddFirst]' measured [Time, seconds]
average: 1.602, relative standard deviation: 4.830%,
values: [1.798811, 1.565739, 1.568823, 1.562664, 1.538348, 1.529186, 1.620931, 1.598231, 1.559673, 1.677128]
```

<br/>

## ğŸ– ê²°ë¡ 

- ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•´ O(1) ì‹œê°„ì— ì‚½ì…, ì‚­ì œë¥¼ êµ¬í˜„í•´ ë³´ì•˜ë‹¤.
- í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ë°°ì—´ê³¼ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ì˜ ìˆ˜í–‰ì‹œê°„ì„ ì§ì ‘ ëˆˆìœ¼ë¡œ í™•ì¸ í–ˆë‹¤.

ëŒ€ìš©ëŸ‰ì˜ ë°ì´í„°ë¥¼ ë‹¤ë¤„ë³´ì§€ ì•Šì•„ ì»¬ë ‰ì…˜ ì‚¬ìš©ì— ìˆì–´ íš¨ìœ¨ì„±ì„ ê³ ë¯¼í•˜ì§€ ì•Šì•˜ë‹¤. ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ëˆˆìœ¼ë¡œ ì§ì ‘ í™•ì¸í•´ ë³´ë‹ˆ, O(1) ê³¼ O(n) ì˜ ì°¨ì´ë¥¼ ì‹¤ê°í•  ìˆ˜ ìˆì—ˆë‹¤.

Swift ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ë³¸ ë°ì´í„° êµ¬ì¡°ì— ë§Œì¡±í•˜ì§€ ë§ê³ , í•„ìš”í•˜ë‹¤ë©´ ì§ì ‘ ë§Œë“¤ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼ê² ë‹¤.

<br/>

---

### ì°¸ê³ ìë£Œ

- [Xcode í¼í¬ë¨¼ìŠ¤ í…ŒìŠ¤íŠ¸](https://developer.apple.com/library/archive/documentation/DeveloperTools/Conceptual/testing_with_xcode/chapters/04-writing_tests.html#//apple_ref/doc/uid/TP40014132-CH4-SW8)
